{
  "name": "rag-learner-support-chatbot-n8n",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [0, 0],
      "id": "schedule-trigger",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "operation": "download",
        "path": "/FAQ/whatsapp_chat.txt"
      },
      "type": "n8n-nodes-base.dropbox",
      "typeVersion": 1,
      "position": [208, 0],
      "id": "dropbox-download",
      "name": "Download a file",
      "credentials": {
        "dropboxOAuth2Api": {
          "name": "Dropbox account"
        }
      }
    },
    {
      "parameters": {
        "mode": "insert",
        "pineconeIndex": "rag-384-index",
        "options": {
          "pineconeNamespace": "FAQ"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [416, 0],
      "id": "pinecone-insert",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "sentence-transformers/all-MiniLM-L6-v2"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsHuggingFaceInference",
      "typeVersion": 1,
      "position": [320, 208],
      "id": "hf-embeddings-ingest",
      "name": "Embeddings HuggingFace Inference",
      "credentials": {
        "huggingFaceApi": {
          "name": "HuggingFace account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom"
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [560, 208],
      "id": "data-loader",
      "name": "Default Data Loader"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "typeVersion": 1,
      "position": [448, 352],
      "id": "text-splitter",
      "name": "Recursive Character Text Splitter"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [816, 0],
      "id": "chat-trigger",
      "name": "When chat message received"
    },
    {
      "parameters": {
        "model": "openai/gpt-oss-120b"
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [912, 208],
      "id": "groq-model",
      "name": "Groq Chat Model",
      "credentials": {
        "groqApi": {
          "name": "Groq account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a Learner Support Executive chatbot. Answer questions politely and professionally using only the provided FAQ knowledge base. If information is unavailable, respond that you will share it with the support team. Do not guess or use external knowledge."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [1040, 0],
      "id": "ai-agent",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolDescription": "Learner support FAQ retrieval",
        "pineconeIndex": "rag-384-index",
        "options": {
          "pineconeNamespace": "FAQ"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1.3,
      "position": [1184, 272],
      "id": "pinecone-retrieve",
      "name": "Pinecone Vector Store (Retriever)",
      "credentials": {
        "pineconeApi": {
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "sentence-transformers/all-MiniLM-L6-v2"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsHuggingFaceInference",
      "typeVersion": 1,
      "position": [1008, 432],
      "id": "hf-embeddings-query",
      "name": "Embeddings HuggingFace Inference (Query)",
      "credentials": {
        "huggingFaceApi": {
          "name": "HuggingFace account"
        }
      }
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [[{ "node": "Download a file", "type": "main", "index": 0 }]]
    },
    "Download a file": {
      "main": [[{ "node": "Pinecone Vector Store", "type": "main", "index": 0 }]]
    },
    "Embeddings HuggingFace Inference": {
      "ai_embedding": [[{ "node": "Pinecone Vector Store", "type": "ai_embedding", "index": 0 }]]
    },
    "Recursive Character Text Splitter": {
      "ai_textSplitter": [[{ "node": "Default Data Loader", "type": "ai_textSplitter", "index": 0 }]]
    },
    "Default Data Loader": {
      "ai_document": [[{ "node": "Pinecone Vector Store", "type": "ai_document", "index": 0 }]]
    },
    "When chat message received": {
      "main": [[{ "node": "AI Agent", "type": "main", "index": 0 }]]
    },
    "Groq Chat Model": {
      "ai_languageModel": [[{ "node": "AI Agent", "type": "ai_languageModel", "index": 0 }]]
    },
    "Pinecone Vector Store (Retriever)": {
      "ai_tool": [[{ "node": "AI Agent", "type": "ai_tool", "index": 0 }]]
    },
    "Embeddings HuggingFace Inference (Query)": {
      "ai_embedding": [[{ "node": "Pinecone Vector Store (Retriever)", "type": "ai_embedding", "index": 0 }]]
    }
  },
  "active": false
}
